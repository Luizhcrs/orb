<Window x:Class="OrbAgent.Frontend.Windows.OrbWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Orb Agent"
        Width="70" Height="70"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        ResizeMode="NoResize"
        Loaded="Window_Loaded">
    
    <Window.Resources>
        <!-- Easing Functions -->
        <CubicEase x:Key="EaseInOut" EasingMode="EaseInOut"/>
        
        <!-- Gradient para o Glow Externo -->
        <RadialGradientBrush x:Key="GlowBrush">
            <GradientStop Color="#1AFFFFFF" Offset="0"/>
            <GradientStop Color="Transparent" Offset="0.7"/>
        </RadialGradientBrush>
    </Window.Resources>
    
    <Grid>
        <!-- Container Principal do Orb -->
        <Grid Width="56" Height="56" 
              HorizontalAlignment="Center" 
              VerticalAlignment="Center">
            
            <!-- Glow Externo Pulsante -->
            <Ellipse x:Name="OrbGlow"
                     Width="56" Height="56"
                     Fill="{StaticResource GlowBrush}"
                     Opacity="0.6">
                <Ellipse.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform x:Name="GlowScale" ScaleX="1" ScaleY="1" CenterX="28" CenterY="28"/>
                    </TransformGroup>
                </Ellipse.RenderTransform>
                <Ellipse.Triggers>
                    <EventTrigger RoutedEvent="Loaded">
                        <BeginStoryboard>
                            <Storyboard RepeatBehavior="Forever">
                                <!-- Pulso de Opacidade -->
                                <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                               From="0.6" To="1" Duration="0:0:3"
                                               AutoReverse="True"
                                               EasingFunction="{StaticResource EaseInOut}"/>
                                <!-- Pulso de Scale -->
                                <DoubleAnimation Storyboard.TargetName="GlowScale"
                                               Storyboard.TargetProperty="ScaleX"
                                               From="1" To="1.1" Duration="0:0:3"
                                               AutoReverse="True"
                                               EasingFunction="{StaticResource EaseInOut}"/>
                                <DoubleAnimation Storyboard.TargetName="GlowScale"
                                               Storyboard.TargetProperty="ScaleY"
                                               From="1" To="1.1" Duration="0:0:3"
                                               AutoReverse="True"
                                               EasingFunction="{StaticResource EaseInOut}"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Ellipse.Triggers>
            </Ellipse>
            
            <!-- Orb Principal (Circle com efeitos) -->
            <Ellipse x:Name="OrbCircle"
                     Width="48" Height="48">
                <!-- Background Glass Escuro -->
                <Ellipse.Fill>
                    <SolidColorBrush Color="#99141416" Opacity="0.8"/>
                </Ellipse.Fill>
                
                <!-- Borda Sutil -->
                <Ellipse.Stroke>
                    <SolidColorBrush Color="#40FFFFFF"/>
                </Ellipse.Stroke>
                <Ellipse.StrokeThickness>1.5</Ellipse.StrokeThickness>
                
                <!-- Sombras -->
                <Ellipse.Effect>
                    <DropShadowEffect Color="Black" 
                                     BlurRadius="28" 
                                     ShadowDepth="6" 
                                     Opacity="0.4"/>
                </Ellipse.Effect>
            </Ellipse>
            
            <!-- Reflexo de Vidro -->
            <Ellipse Width="18" Height="18"
                     Margin="7,4,0,0"
                     HorizontalAlignment="Left"
                     VerticalAlignment="Top"
                     Opacity="0.4">
                <Ellipse.Fill>
                    <RadialGradientBrush>
                        <GradientStop Color="#80FFFFFF" Offset="0"/>
                        <GradientStop Color="Transparent" Offset="1"/>
                    </RadialGradientBrush>
                </Ellipse.Fill>
                <Ellipse.Effect>
                    <BlurEffect Radius="4"/>
                </Ellipse.Effect>
                <Ellipse.Triggers>
                    <EventTrigger RoutedEvent="Loaded">
                        <BeginStoryboard>
                            <Storyboard RepeatBehavior="Forever">
                                <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                               From="0.3" To="0.6" Duration="0:0:4"
                                               AutoReverse="True"
                                               EasingFunction="{StaticResource EaseInOut}"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Ellipse.Triggers>
            </Ellipse>
            
            <!-- Core Interno Pulsante -->
            <Ellipse Width="24" Height="24"
                     HorizontalAlignment="Center"
                     VerticalAlignment="Center"
                     Opacity="0.5">
                <Ellipse.Fill>
                    <RadialGradientBrush>
                        <GradientStop Color="#40FFFFFF" Offset="0"/>
                        <GradientStop Color="#1AFFFFFF" Offset="0.5"/>
                        <GradientStop Color="Transparent" Offset="1"/>
                    </RadialGradientBrush>
                </Ellipse.Fill>
                <Ellipse.Triggers>
                    <EventTrigger RoutedEvent="Loaded">
                        <BeginStoryboard>
                            <Storyboard RepeatBehavior="Forever">
                                <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                               From="0.4" To="0.7" Duration="0:0:3"
                                               AutoReverse="True"
                                               EasingFunction="{StaticResource EaseInOut}"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Ellipse.Triggers>
            </Ellipse>
            
        </Grid>
    </Grid>
</Window>
